<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.zdy.dao.StudentMapper">
	<!--注意:type后面跟的是全限定名,如果不是,可以在config.xml中配置  -->
	<resultMap type="Student" id="base_result">
		<id column="s_id" property="sId"/>
		<result column="s_name" property="sName"/>
		<result column="s_password" property="sPassword"/>
		<result column="s_email" property="sEmail"/>
		<result column="s_age" property="sAge"/>
		<result column="s_remark" property="eRemark"/>
	</resultMap>
	<!--查询对应的用户名和密码  -->
	<!-- select user_name,user_password from sys_user WHERE user_name = 'zzz' and user_password = '123';
	 -->
	<select id="queryStudents" resultMap="base_result">
		select * from student 
	
	</select>

	<!-- 查询用户名，邮箱，和密码对应的用户是否存在 -->
	<select id="queryStudentNameOrPassword" resultMap="base_result">
		select * from student
		<where>
			<if test="sName!= null and sName!='' ">
				s_name = #{sName}
			</if>
			<if test="sEmail !=null and sEmail !=''">
				and s_email = #{sEmail}
			</if>
			<if test="sPassword !=null and sPassword !=''">
				and s_password = #{sPassword}
			</if>
		</where>
	</select>



	<!-- 修改密码 -->
	<!-- UPDATE student SET s_password ='456' WHERE s_email = '947161829@qq.com' -->
	<update id="updatePassword" parameterType="Student">
		UPDATE student 
		<set>
			<if test="sPassword !=null and sPassword!=''">
				s_password =#{sPassword} 
			</if>
		</set>
		<where>
			s_email = #{sEmail}
		</where>
	</update>
	
</mapper>













